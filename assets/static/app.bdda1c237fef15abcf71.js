webpackJsonp([1],{0:function(e,t,i){e.exports=i(128)},10:function(e,t,i){var n,a;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n))e.push(i.apply(null,n));else if("object"===a)for(var r in n)s.call(n,r)&&n[r]&&e.push(r)}}return e.join(" ")}var s={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=i:(n=[],a=function(){return i}.apply(t,n),!(void 0!==a&&(e.exports=a)))}()},14:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=i(133),r=n(s),o=i(19),l=n(o),c={},u={},h=function d(){var e=this;a(this,d),this.reject=function(e){return Promise.reject(e)},this.statusVerify=function(e){return e.status>=200&&e.status<300?Promise.resolve(e.json()):(console.error(e.status,e.url),l["default"].error("服务器开小差啦~请稍后再试!"),Promise.reject(e))},this.resultVerify=function(e){return e.code&&302==e.code?(l["default"].error(e.msg+"，稍后将跳转登陆页面~"),setTimeout(function(){location.href=e.data.redirect+"?redirect="+location.href},3e3),Promise.resolve(e)):e.code&&1001!=e.code?(l["default"].error(e.msg),Promise.reject(e)):Promise.resolve(e)},this.getCache=function(t,i,n){var a=t+"___"+l["default"].param(i||{});if(r["default"].get(a))return r["default"].get(a);var s=e.get(t,i);return r["default"].update(a,s,n),s},this.fetch=function(e,t){var i=null,n=fetch(e,t),a=new Promise(function(t,n){i=function(){n(e)}}),s=Promise.race([n,a]);return s.abort=i,s},this.get=function(t,i,n){var a=i,s=i&&Object.keys(i).length>0?"?"+l["default"].param(a):"",r=n?e.fetch:window.fetch;return u[t]=r(t+s,{method:"GET",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"}}),u[t].then(e.statusVerify,e.reject).then(e.resultVerify,e.reject)},this.post=function(t,i,n){var a=JSON.stringify(i),s=n?e.fetch:window.fetch;return u[t]=s(t,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:a}),u[t].then(e.statusVerify,e.reject).then(e.resultVerify,e.reject)},this.upload=function(t,i,n){var a=new FormData;a.append("file",i);for(var s in n)a.append(s,n[s]);return window.fetch(t,{method:"POST",body:a,credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(e.statusVerify,e.reject).then(e.resultVerify,e.reject)},this.delay=function(t,i,n,a,s){c[t]&&clearTimeout(c[t]),c[t]=setTimeout(function(){return clearTimeout(c[t]),e.get(t,i).then(a,s)},n||300)},this.abort=function(e){if(e&&u[e])u[e].abort();else for(var e in u)u[e]&&u[e].abort&&u[e].abort()}};t["default"]=new h},19:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=i(131),c=n(l),u=i(129),h=n(u),d=i(130),f=n(d),p=function g(){var e=this;r(this,g),this.trim=function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},this.param=function(t,i,n){if(null==t)return"";var a="",s="undefined"==typeof t?"undefined":o(t);if("string"==s||"number"==s||"boolean"==s)a+="&"+i+"="+(null==n||n?encodeURIComponent(t):t);else for(var r in t){var l=null==i?r:i+(t instanceof Array?"["+r+"]":"."+r);a+=e.param(t[r],l,n)}return a},this.css=function(t,i){var n=t.getAttribute("style"),a=e.formatStyle(n);t.setAttribute("style",e.parseStyle(Object.assign({},a,i)))},this.formatStyle=function(e){if(!e)return{};var t={};return e.split(";").filter(function(e){return e}).forEach(function(e){var i=e.split(":");2==i.length&&i[0]&&i[1]&&(t[i[0]]=i[1])}),t},this.parseStyle=function(e){var t=["columnCount","fillOpacity","fontWeight","lineHeight","opacity","order","orphans","widows","zIndex","zoom"],i=["transform"],n=[];return Object.keys(e).forEach(function(t){i.indexOf(t)>=0&&(e["-webkit-"+t]=e[t])}),Object.keys(e).forEach(function(i){"number"==typeof e[i]&&t.indexOf(i)<0?n.push(i+":"+e[i]+"px"):n.push(i+":"+e[i])}),n.join(";")},this.absoluteUrl=function(e){if(e.indexOf("/")==-1||e.indexOf("/")>0){var t=document.location.pathname.split("/");return t[t.length-1]=e,t.join("/")}return e},this.money=function(e,t){t=t>0&&t<=20?t:2,e=parseFloat((e+"").replace(/[^\d\.-]/g,"")).toFixed(t)+"";for(var i=e.split(".")[0].split("").reverse(),n=e.split(".")[1],a="",s=0;s<i.length;s++)a+=i[s]+((s+1)%3==0&&s+1!=i.length?",":"");return a.split("").reverse().join("")+"."+n},this.rmoney=function(e){return parseFloat(e.replace(/[^\d\.-]/g,""))},this.toast=function(e,t,i,n){c["default"].open({type:e,msg:t,duration:i,callback:n})},this.fuzzySelect=function(e,t,i,n){h["default"].open({url:e,dataSource:t,callback:i,indexKey:n})},this.fuzzyUser=function(e,t,i){f["default"].open({selectedIds:e,dataSource:t,callback:i})},this.startLoading=function(t){e.toast("loading",t)},this.closeLoading=function(){c["default"].close()},this.success=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,n=arguments[2];e.toast("success",t,i,n)},this.error=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,n=arguments[2];e.toast("error",t,i,n)}};p.isTT=function(){return p.inUserAgent(/tt4ios|tt4android/)},p.inUserAgent=function(e){return e.test(navigator.userAgent.toLowerCase())};var m=function(e){function t(){var e,i,n,s;r(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return i=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.setTitle=function(e,t){document.title=e},n.setRightItemTitle=function(e,t){},n.pushWindow=function(e){location.href=e},n.popWindow=function(e){location.href=e},n.removeNotification=function(e){return Promise.reject("非TT环境不能注销通知~")},n.sendNotification=function(e,t){return Promise.reject("非TT环境不能发送通知~")},n.registerNotification=function(e){return Promise.reject("非TT环境不能注册通知~")},n.selectTTContact=function(e){return Promise.reject("非TT环境不能选取用户~")},s=i,a(n,s)}return s(t,e),t}(p),v=function(e){function t(){var e,i,n,s;r(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return i=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.setTitle=function(e,t){return hdp["do"]("tt.navigation.setTitle",e,t)},n.setRightItemTitle=function(e,t){return hdp["do"]("tt.navigation.rightitem.setTitle",e,t)},n.pushWindow=function(e){return hdp["do"]("tt.navigation.pushWindow",e)},n.popWindow=function(e){return hdp["do"]("tt.navigation.popWindow")},n.removeNotification=function(e){return hdp["do"]("tt.notification.removeNotification",e)},n.sendNotification=function(e,t){return hdp["do"]("tt.notification.sendNotification",e,t)},n.registerNotification=function(e){return hdp["do"]("tt.notification.registerNotification",e)},n.selectTTContact=function(e){return hdp["do"]("tt.ttcontact.selectMultiContact",e)},s=i,a(n,s)}return s(t,e),t}(p),y=window.hasOwnProperty("hdp")&&p.isTT(),b=y?new v:new m;b.isTT=y,t["default"]=b},33:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function d(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:d(a,t,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},c=i(4),u=(n(c),i(14)),h=(n(u),function(e){function t(e){a(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.state={},i.unmount=!1,i}return r(t,e),o(t,[{key:"setState",value:function(e){this.unmount||l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setState",this).call(this,e)}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.unmount=!0}}]),t}(c.Component));t["default"]=h},41:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var i={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=function w(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:w(a,t,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},h=i(4),d=n(h),f=(i(26),i(168)),p=n(f),m=i(10),v=n(m),y=i(14),b=(n(y),i(19)),g=(n(b),function(e){function t(e){s(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.state={pulling:!1,loading:!1,refreshing:!1,waitingReleaseToRefresh:!1},i.getScrollWrap=function(){return i.refs.listViewWrap},i.onScrollEnd=function(){},i.onScroll=function(){if(i.iScrollInstance.y<=0){if(i.state.pulling=!1,i.state.loading||!i.props.loadable||i.props.isEnd)return;var e=i.refs.listViewWrap.offsetHeight,t=i.refs.scrollWrap.offsetHeight;-1*i.iScrollInstance.y+e+i.props.distanceToLoad>=t&&(i.state.loading=!0,i.props.onLoad().then(i.hideLoader,i.hideLoader))}if(i.iScrollInstance.y>0){if(i.state.pulling=!0,i.state.refreshing||!i.props.refreshable)return;i.iScrollInstance.y>=i.props.distanceToRefresh&&!i.state.waitingReleaseToRefresh&&(i.state.waitingReleaseToRefresh=!0,i.setState(i.state),i.iScrollInstance.scrollBy(0,-i.props.refreshViewHeight)),i.iScrollInstance.y+i.props.refreshViewHeight<i.props.distanceToRefresh&&i.state.waitingReleaseToRefresh&&(i.state.waitingReleaseToRefresh=!1,i.setState(i.state),i.iScrollInstance.scrollBy(0,i.props.refreshViewHeight))}},i.handlePullRefresh=function(){i.state.pulling&&i.state.waitingReleaseToRefresh&&(i.showRefreshLoader(),i.props.onRefresh().then(i.hideLoader,i.hideLoader))},i.showRefreshLoader=function(){i.state.refreshing=!0,i.state.waitingReleaseToRefresh=!1,i.setState(i.state)},i.hideLoader=function(){i.state.loading=!1,i.state.refreshing=!1,i.setState(i.state),i.iScrollInstance.refresh()},i}return o(t,e),c(t,[{key:"setState",value:function(e){this.unmount||u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setState",this).call(this,e)}},{key:"componentDidMount",value:function(){var e={preventDefault:!0,preventDefaultException:{tagName:/^(BUTTON|SELECT|TEXTAREA|A|I|INPUT|LABEL)$/i},zoom:!1,mouseWheel:!0,probeType:3,bounce:!0,scrollbars:!1},t=this.getScrollWrap();this.iScrollInstance=new p["default"](t,e),this.iScrollInstance.on("scroll",this.onScroll),this.iScrollInstance.on("scrollEnd",this.onScrollEnd),t.addEventListener("touchend",this.handlePullRefresh,!1)}},{key:"componentDidUpdate",value:function(e,t){e.children!==this.props.children&&this.iScrollInstance.refresh()}},{key:"componentWillUnmount",value:function(){this.unmount=!0,this.iScrollInstance.destroy()}},{key:"render",value:function(){var e=this.props,t=(e.onScroll,e.className),i=(e.refreshViewHeight,e.distanceToRefresh,e.onRefresh,e.onLoad,e.refreshable),n=e.loadable,s=e.isEnd,r=(e.distanceToLoad,e.children),o=a(e,["onScroll","className","refreshViewHeight","distanceToRefresh","onRefresh","onLoad","refreshable","loadable","isEnd","distanceToLoad","children"]),c=this.state.waitingReleaseToRefresh||this.state.refreshing?"waiting":"";return d["default"].createElement("div",l({className:(0,v["default"])("listView",t)},o,{ref:"listViewWrap"}),d["default"].createElement("div",{className:"scrollWrap",ref:"scrollWrap"},i?d["default"].createElement("div",{className:(0,v["default"])("listView-pullDownView",c),ref:"pullDown"},this.state.refreshing||this.state.waitingReleaseToRefresh?null:d["default"].createElement("div",{className:"weui-loadmore"},d["default"].createElement("span",{className:"weui-loadmore__tips"},"下拉刷新")),!this.state.refreshing&&this.state.waitingReleaseToRefresh?d["default"].createElement("div",{className:"weui-loadmore"},d["default"].createElement("span",{className:"weui-loadmore__tips"},"释放开始刷新")):null,this.state.refreshing?d["default"].createElement("div",{className:"weui-loadmore"},d["default"].createElement("i",{className:"weui-loading"}),d["default"].createElement("span",{className:"weui-loadmore__tips"},"数据加载中")):null):null,d["default"].createElement("div",{className:"scrollContent"},r),n&&!s?d["default"].createElement("div",{className:"listView-pullUpView",ref:"pullUp"},d["default"].createElement("div",{className:"weui-loadmore"},d["default"].createElement("i",{className:"weui-loading"}),d["default"].createElement("span",{className:"weui-loadmore__tips"},"数据加载中"))):null,n&&s&&r.length?d["default"].createElement("div",{className:"weui-loadmore"},d["default"].createElement("div",{className:"weui-loadmore_line weui-loadmore_dot"},d["default"].createElement("span",{className:"weui-loadmore__tips bg-none"}))):null,n&&s&&!r.length?d["default"].createElement("div",{className:"weui-loadmore weui-loadmore_line"},d["default"].createElement("span",{className:"weui-loadmore__tips"},"暂无数据")):null))}}]),t}(h.Component));g.defaultProps={className:"",refreshable:!0,distanceToRefresh:60,refreshViewHeight:50,loadable:!0,distanceToLoad:100,onRefresh:function(){return Promise.resolve()},onLoad:function(){return Promise.resolve()}},t["default"]=g},52:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var i={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(4),h=n(u),d=i(10),f=n(d),p=function(e){function t(){return s(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.className,i=e.name,n=a(e,["className","name"]);return h["default"].createElement("i",l({className:(0,f["default"])("weui-icon-"+i,t)},n))}}]),t}(u.Component);t["default"]=p},84:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=i(145),o=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),t}(r.EventEmitter);t["default"]=o},128:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(4),c=n(l),u=i(26),h=i(22),d=i(148),f=n(d);i(127);var p=i(85),m=n(p),v=i(144),y=n(v);i(132),i(146),i(147);var b=i(135),g=n(b),w=i(137),_=n(w),E=i(138),x=n(E),k=i(140),N=n(k),T=i(136),S=n(T),P=i(139),O=n(P);m["default"].polyfill(),y["default"].polyfill(),f["default"].attach(document.body);var C=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),o(t,[{key:"render",value:function(){return c["default"].createElement("div",{className:"container",id:"container"},c["default"].createElement("div",{className:"weui-toptips weui-toptips_warn js_tooltips"},"错误提示"),this.props.children)}}]),t}(l.Component);(0,u.render)(c["default"].createElement(h.Router,{history:h.browserHistory},c["default"].createElement(h.Route,{path:"/",component:C},c["default"].createElement(h.Route,{component:g["default"]},c["default"].createElement(h.IndexRedirect,{to:"/apply"}),c["default"].createElement(h.Route,{path:"apply",component:S["default"]}),c["default"].createElement(h.Route,{path:"audit",component:_["default"]}),c["default"].createElement(h.Route,{path:"audited",component:x["default"]}),c["default"].createElement(h.Route,{path:"my",component:N["default"]}),c["default"].createElement(h.Route,{path:"detail/:id",component:O["default"]}),c["default"].createElement(h.Route,{path:"audit/:id",component:O["default"]}),c["default"].createElement(h.Redirect,{from:"*",to:"/apply"})))),document.getElementById("appWrapper"))},129:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(4),c=n(l),u=i(26),h=n(u),d=i(10),f=(n(d),i(14)),p=n(f),m=function(e){function t(e){a(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.state={alwaysList:[],list:[]},i.searchClear=function(){i.refs.serchInput.value="",i.search()},i.search=function(){p["default"].get(i.props.url,{key:i.refs.serchInput.value}).then(function(e){i.state.alwaysList=e.data.commonList||[],i.state.list=e.data.indistinctList||[],i.setState(i.state)})},i.searchCancel=function(){t.close()},i.selected=function(e){i.props.callback&&i.props.callback(e),t.close()},i}return r(t,e),o(t,null,[{key:"init",value:function(){this.node||(this.node=document.createElement("div"),document.getElementsByTagName("body")[0].appendChild(this.node))}},{key:"open",value:function(e){this.init(),h["default"].render(c["default"].createElement(t,e),this.node)}},{key:"close",value:function(){h["default"].unmountComponentAtNode(this.node)}}]),o(t,[{key:"componentDidMount",value:function(){this.props.url?(this.refs.serchInput.focus(),this.search()):this.props.dataSource.length&&(this.state.list=this.props.dataSource,this.setState(this.state))}},{key:"render",value:function(){var e=this.props.indexKey,t=this.state,i=(t.hideResult,t.alwaysList),n=t.list;return c["default"].createElement("div",{className:"fuzzySelect"},c["default"].createElement("div",{className:"weui-search-bar weui-search-bar_focusing"},c["default"].createElement("div",{className:"weui-search-bar__form"},c["default"].createElement("div",{className:"weui-search-bar__box"},c["default"].createElement("i",{className:"weui-icon-search"}),c["default"].createElement("input",{type:"search",className:"weui-search-bar__input",placeholder:"搜索",required:!0,onChange:this.search,ref:"serchInput"}),c["default"].createElement("a",{href:"javascript:",className:"weui-icon-clear",onClick:this.searchClear})),c["default"].createElement("label",{className:"weui-search-bar__label"},c["default"].createElement("i",{className:"weui-icon-search"}),c["default"].createElement("span",null,"搜索"))),c["default"].createElement("a",{href:"javascript:",className:"weui-search-bar__cancel-btn",onClick:this.searchCancel},"取消")),c["default"].createElement("div",{className:"weui-cells searchbar-result"},c["default"].createElement("div",{className:"weui-cells__title"},"常用"),c["default"].createElement("div",{className:"always-tags flexbox flex-wrap"},i.length?i.map(function(t,i){return c["default"].createElement("a",{className:"tag flex-1 text-center",href:"javascript:;",key:i,onClick:this.selected.bind(this,t)},t[e])},this):c["default"].createElement("div",{className:"text-center text-light flex-1"},"暂无数据~")),c["default"].createElement("div",{className:"weui-cells__title"},"查询"),c["default"].createElement("div",{className:"result-tags"},n.length?n.map(function(t,i){return c["default"].createElement("div",{className:"weui-cell weui-cell_access",key:i,onClick:this.selected.bind(this,t)},c["default"].createElement("div",{className:"weui-cell__bd weui-cell_primary"},c["default"].createElement("p",null,t[e])))},this):c["default"].createElement("div",{className:"text-center text-light"},"暂无数据~"))))}}]),t}(l.Component);m.defaultProps={url:"",dataSource:[],callback:function(e){},indexKey:""},t["default"]=m},130:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(4),c=n(l),u=i(26),h=n(u),d=i(10),f=n(d),p=i(14),m=n(p),v=function(e){function t(e){a(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.state={disableSerach:!1,list:[],batchSelectedList:[]},i.searchClear=function(){i.refs.serchInput.value="",i.search()},i.search=function(){m["default"].get("/api/user/fuzzySearchUsers",{key:i.refs.serchInput.value}).then(function(e){i.state.list=e.data.list||[],i.setState(i.state)})},i.searchCancel=function(){t.close()},i.selected=function(e,t){if(t.target.checked)i.state.batchSelectedList.push(e);else{for(var n=-1,a=0;a<i.state.batchSelectedList.length;a++)i.state.batchSelectedList[a].userId==e.userId&&(n=a);n!=-1&&i.state.batchSelectedList.splice(n,1)}e.checked=t.target.checked,i.setState(i.state)},i.selectAll=function(){i.state.batchSelectedList=[],i.state.list.map(function(e,t){e.checked=!0,i.state.batchSelectedList.push(e)}),i.setState(i.state)},i.unSelectAll=function(){i.state.batchSelectedList=[],i.state.list.map(function(e,t){e.checked=!1}),i.setState(i.state)},i.selectedBatch=function(){var e=i.state.batchSelectedList;i.props.callback&&i.props.callback(e),t.close()},i}return r(t,e),o(t,null,[{key:"init",value:function(){this.node||(this.node=document.createElement("div"),document.getElementsByTagName("body")[0].appendChild(this.node))}},{key:"open",value:function(e){this.init(),h["default"].render(c["default"].createElement(t,e),this.node)}},{key:"close",value:function(){h["default"].unmountComponentAtNode(this.node)}}]),o(t,[{key:"componentDidMount",value:function(){var e=this;this.props.dataSource.length?(this.state.disableSerach=!0,this.state.list=this.props.dataSource.map(function(t,i){for(var n=Object.assign({},t),a=0;a<e.props.selectedIds.length;a++)n.userId==e.props.selectedIds[a]&&(e.state.batchSelectedList.push(n),n.checked=!0);return n}),this.setState(this.state)):(this.refs.serchInput.focus(),this.search())}},{key:"render",value:function(){var e=this.state,t=e.disableSerach,i=e.list,n=e.batchSelectedList;return c["default"].createElement("div",{className:"fuzzySelect"},t?null:c["default"].createElement("div",{className:"weui-search-bar weui-search-bar_focusing"},c["default"].createElement("div",{className:"weui-search-bar__form"},c["default"].createElement("div",{className:"weui-search-bar__box"},c["default"].createElement("i",{className:"weui-icon-search"}),c["default"].createElement("input",{type:"search",className:"weui-search-bar__input",placeholder:"搜索",required:!0,onChange:this.search,ref:"serchInput"}),c["default"].createElement("a",{href:"javascript:",className:"weui-icon-clear",onClick:this.searchClear}))),c["default"].createElement("a",{href:"javascript:",className:"weui-search-bar__cancel-btn",onClick:this.searchCancel},"取消")),c["default"].createElement("div",{className:"weui-cells searchbar-result"},c["default"].createElement("div",{className:"weui-cells__title clearfix"},t?c["default"].createElement("a",{href:"javascript:",className:"pull-left text-primary",onClick:this.searchCancel},"取消"):c["default"].createElement("span",null,"查询"),t&&i.length!=n.length?c["default"].createElement("a",{className:"pull-right text-primary",href:"javascript:;",onClick:this.selectAll},"全选"):null,t&&i.length==n.length?c["default"].createElement("a",{className:"pull-right text-primary",href:"javascript:;",onClick:this.unSelectAll},"全不选"):null),c["default"].createElement("div",{className:"result-tags"},i.length?i.map(function(e,t){return c["default"].createElement("div",{className:"weui-cells weui-cells_checkbox",key:t},c["default"].createElement("label",{className:"weui-cell weui-check__label",htmlFor:"checkbox"+t},c["default"].createElement("div",{className:"weui-cell__hd"},c["default"].createElement("input",{type:"checkbox",className:"weui-check",name:"checkbox",id:"checkbox"+t,onChange:this.selected.bind(this,e),checked:e.checked?"checked":""}),c["default"].createElement("i",{className:"weui-icon-checked"})),c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("div",{className:"avatar m-r-xs"},c["default"].createElement("img",{src:e.avatar})),c["default"].createElement("span",{className:"usernick"},e.nickName))))},this):c["default"].createElement("div",{className:"text-center text-light"},"暂无数据~"))),c["default"].createElement("div",{className:"weui-flex p-xs"},c["default"].createElement("div",{className:"weui-flex__item"},c["default"].createElement("a",{href:"javascript:;",className:(0,f["default"])("weui-btn weui-btn_primary m-xs"),onClick:this.selectedBatch},"确定"))))}}]),t}(l.Component);v.defaultProps={selectedIds:[],dataSource:[],callback:function(e){}},t["default"]=v},131:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(4),c=n(l),u=(i(22),i(26)),h=n(u),d=i(10),f=n(d),p=i(52),m=(n(p),function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),o(t,[{key:"render",value:function(){var e="",t="";switch(this.props.type){case"loading":e="weui-loading",t=this.props.msg||"数据加载中";break;case"success":e="weui-icon-success-no-circle",t=this.props.msg||"已完成";break;case"error":t=this.props.msg||"服务器开小差啦~请稍后再试"}return c["default"].createElement("div",{id:"Toast"},c["default"].createElement("div",{className:"weui-mask_transparent"}),"error"!=this.props.type?c["default"].createElement("div",{className:"weui-toast"},c["default"].createElement("i",{
className:(0,f["default"])("weui-icon_toast",e)}),c["default"].createElement("p",{className:"weui-toast__content"},t)):c["default"].createElement("div",{className:"weui-tips"},c["default"].createElement("p",{className:"weui-tips__content"},t)))}}],[{key:"init",value:function(){this.node||(this.node=document.createElement("div"),document.getElementsByTagName("body")[0].appendChild(this.node))}},{key:"open",value:function(e){var i=this;this.init(),h["default"].render(c["default"].createElement(t,e),this.node),e.duration&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){i.close(),e.callback&&e.callback()},e.duration))}},{key:"close",value:function(){h["default"].unmountComponentAtNode(this.node)}}]),t}(l.Component));t["default"]=m},132:function(e,t){"use strict";Array.prototype.includes||(Array.prototype.includes=function(e){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var t=Object(this),i=parseInt(t.length,10)||0;if(0===i)return!1;var n,a=parseInt(arguments[1],10)||0;a>=0?n=a:(n=i+a,n<0&&(n=0));for(var s;n<i;){if(s=t[n],e===s||e!==e&&s!==s)return!0;n++}return!1})},133:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=i(84),l=n(o),c={a:1},u=function(e){function t(){var e,i,n,r;a(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return i=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.update=function(e,t,i){var a=n.get(e),s={name:e,promise:t};(!i||i<0)&&a&&a.timeout&&clearTimeout(a.timeout),i>0&&(a&&a.timeout?s.timeout=a.timeout:s.timeout=setTimeout(function(){n.del(e)},i)),c[e]=s},n.get=function(e){return c[e]?c[e].promise:null},n.del=function(e){clearTimeout(c[e].timeout),delete c[e]},n.clean=function(){Object.keys(c).forEach(function(e){n.del(e)})},r=i,s(n,r)}return r(t,e),t}(l["default"]);t["default"]=new u},134:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=i(84),l=n(o),c=i(14),u=n(c),h=function(e){function t(){var e,i,n,r;a(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return i=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getCurrentUser=function(e){return u["default"].getCache("/api/user/getCurrentUser",e,-1)},n.switchUser=function(e){return u["default"].get("/api/user/switchUser",e)},n.getAllEnumData=function(e){return u["default"].getCache("/api/enum/getAllEnumMaps",e,-1)},n.getAllCompany=function(e){return u["default"].getCache("/api/company/getAllCompanyList",e,-1)},n.getAllRole=function(e){return u["default"].getCache("/api/role/getAllRoles",e,-1)},n.getAllLocation=function(e){return u["default"].getCache("/api/location/getAllLoactions",e,-1)},n.getAllDept=function(e){return u["default"].getCache("/api/dept/getAllBiz1thDept",e,-1)},n.getDept=function(e){return u["default"].getCache("/api/dept/getBiz1thDept",e,-1)},n.getBudgetDept=function(e){return u["default"].getCache("/api/dept/getBudgetBiz1thDept",e,-1)},r=i,s(n,r)}return r(t,e),t}(l["default"]);t["default"]=new h},135:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(4),c=n(l),u=i(22),h=i(10),d=n(h),f=i(52),p=n(f),m=i(19),v=n(m),y=function(e){function t(e){a(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return b.call(i),i.state.tabBarDataList=i.tabBarDataListAudit,i.state.tabBarDataList.map(function(e,t){i.state.activeArray.push(e.key)}),i.selectActiveMenu(e),i}return r(t,e),o(t,[{key:"componentDidMount",value:function(){v["default"].registerNotification("reload").then(function(e){console.log("reload注册成功")},function(e){console.log("reload注册失败,"+e)}),document.getElementById("appWrapper").addEventListener("click",function(e){var t=e.target;return t&&"a"==t.nodeName.toLocaleLowerCase()&&t.className.indexOf("pushWindow")!=-1?(e.preventDefault(),v["default"].pushWindow(t.href),!1):!t||"a"!=t.nodeName.toLocaleLowerCase()||t.className.indexOf("replaceHistory")==-1||(e.preventDefault(),u.browserHistory.replace(t.getAttribute("href")),!1)},!1)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.state.activeArray=[],this.state.tabBarDataList=this.tabBarDataListAudit,this.state.tabBarDataList.map(function(e,i){t.state.activeArray.push(e.key)}),this.selectActiveMenu(e)}},{key:"render",value:function(){var e=this.props.children,t=this.state.tabBarDataList;return this.state.activeArray.includes(this.state.activeMenu)&&this.state.activeArray.length>1?c["default"].createElement("div",{className:"weui-tab"},c["default"].createElement("div",{className:"weui-tab__panel"},e),c["default"].createElement("div",{className:"weui-tabbar"},t.map(function(e,t){return c["default"].createElement(u.Link,{to:v["default"].absoluteUrl(e.link),className:(0,d["default"])({"weui-bar__item_on":this.state.activeMenu==e.key},"weui-tabbar__item replaceHistory"),key:e.key},c["default"].createElement(p["default"],{name:e.icon,className:"weui-tabbar__icon"}),c["default"].createElement("p",{className:"weui-tabbar__label"},e.tabName))},this))):c["default"].createElement("div",{className:"containerWrap"},e)}}]),t}(l.Component),b=function(){var e=this;this.tabBarDataListAudit=[{link:"apply",tabName:"申请",icon:"custom-apply",key:"apply"},{link:"audit",tabName:"待审批",icon:"custom-audit",key:"audit"},{link:"audited",tabName:"已审批",icon:"custom-audited",key:"audited"},{link:"my",tabName:"我的",icon:"custom-my",key:"my"}],this.state={activeArray:[],tabBarDataList:[],activeMenu:""},this.selectActiveMenu=function(t){var i=t.location.pathname.split("/");e.state.activeMenu=i[i.length-1]}};t["default"]=y},136:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(4),c=n(l),u=i(22),h=i(33),d=n(h),f=i(10),p=n(f),m=i(14),v=n(m),y=i(19),b=n(y),g=i(134),w=n(g),_=i(52),E=n(_),x=i(41),k=n(x),N=function(e){function t(e){a(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.state={params:{nickName:"",deptName:"",deptId:"",travellers:[],reason:"",marches:[{fromCity:"",toCity:"",departDate:moment().format("YYYY-MM-DD"),trafficType:""}],inns:[{innCity:"",innTravellers:[],beginTime:moment().format("YYYY-MM-DD"),endTime:moment().format("YYYY-MM-DD")}]},disabled:!1,innType:"self",innCityList:[]},i.addUser=function(){var e=i.state.params.travellers.map(function(e,t){return e.userId});b["default"].selectTTContact(e).then(function(e){var t=e.map(function(e,t){return i.simpleUser(e)});/iphone/.test(navigator.userAgent.toLowerCase())?i.state.params.travellers=i.state.params.travellers.concat(t):i.state.params.travellers=t,i.setState(i.state)},function(e){b["default"].error(e)})},i.deleteUser=function(e){var t=i.state.params.travellers.splice(e,1);i.checkDeleteInnTraveller(t[0]),i.setState(i.state)},i.addInnTravellers=function(e){var t=e.innTravellers.map(function(e,t){return e.userId});b["default"].fuzzyUser(t,i.state.params.travellers,function(t){e.innTravellers=t,i.setState(i.state)})},i.deleteInnTraveller=function(e,t){e.innTravellers.splice(t,1),i.setState(i.state)},i.checkDeleteInnTraveller=function(e){i.state.params.inns.forEach(function(t){for(var i=-1,n=0;n<t.innTravellers.length;n++)t.innTravellers[n].userId==e.userId&&(i=n);i!=-1&&t.innTravellers.splice(i,1)})},i.simpleUser=function(e){var t=1==e.sex?"https://s16.mogucdn.com/p2/160808/upload_4b36g29gfk6hdck0c5i74d3bgc9ha_512x512.jpg":"https://s16.mogucdn.com/p2/160808/upload_60j556ide1igke0l0803eijiafbic_512x512.jpg";return{avatar:e.avatar||e.avatar_url||t,nickName:e.nickName||e.user_nick_name,userId:parseInt(e.userId||e.user_id)}},i.addMarch=function(){i.state.params.marches.push({fromCity:"",toCity:"",departDate:moment().format("YYYY-MM-DD"),trafficType:""}),i.setState(i.state)},i.minuseMarch=function(){i.state.params.marches.splice(i.state.params.marches.length-1,1),i.setState(i.state)},i.bookInn=function(e){i.state.innType=e,i.setState(i.state)},i.addInn=function(){i.state.params.inns.push({innCity:"",innTravellers:[],beginTime:moment().format("YYYY-MM-DD"),endTime:moment().format("YYYY-MM-DD")}),i.setState(i.state)},i.minuseInn=function(){i.state.params.inns.splice(i.state.params.inns.length-1,1),i.setState(i.state)},i.submit=function(){var e=i.processData();i.checkData(e)&&(b["default"].startLoading("处理中~"),i.state.disabled=!0,i.setState(i.state),v["default"].post("/api/trip/apply",e).then(function(e){b["default"].success("操作成功",1500,function(){u.browserHistory.replace("/my")}),i.state.disabled=!1,i.setState(i.state)},function(e){i.state.disabled=!1,i.setState(i.state)}))},i.processData=function(){var e=JSON.parse(JSON.stringify(i.state.params));return e.travellers.forEach(function(t,i){e.travellers[i]=t.nickName}),e.marches.forEach(function(e,t){e.departDate=moment(e.departDate,"YYYY-MM-DD").format("YYYYMMDD")}),e.inns.forEach(function(t,i){t.innTravellers.forEach(function(t,n){e.inns[i].innTravellers[n]=t.nickName})}),"self"==i.state.innType&&(e.inns=null),e},i.checkData=function(e){var t="";return e.travellers.length||(t=t?t:"出行人不能为空~"),e.reason.length||(t=t?t:"出行事由不能为空~"),e.marches.forEach(function(e){e.fromCity&&e.toCity||(t=t?t:"行程出发,到达不能为空~"),e.trafficType||(t=t?t:"交通方式不能为空~"),e.departDate<moment().format("YYYYMMDD")&&(t=t?t:"出行时间不能早于当前时间~")}),e.inns&&e.inns.length&&e.inns.forEach(function(e){e.innTravellers.length||(t=t?t:"住宿人不能为空~"),e.innCity||(t=t?t:"入住城市不能为空~"),e.beginTime<moment().format("YYYY-MM-DD")&&(t=t?t:"入住日期不能早于当前时间~"),e.endTime<moment().format("YYYY-MM-DD")&&(t=t?t:"退房日期不能早于当前时间~"),e.beginTime>e.endTime&&(t=t?t:"退房日期不能早于入住日期~")}),!t||(b["default"].error(t),!1)},i.selectCity=function(e,t,n,a){a.preventDefault(),b["default"].fuzzySelect("/api/base/city/getTripHotelList",null,function(a){e[t]=a.cityName,"toCity"==t&&(i.state.innCityList[n]=a),i.setState(i.state)},"cityName")},i.resizeTextarea=function(e){e.target.style.height="auto",e.target.style.height=e.target.scrollHeight+"px"},b["default"].setTitle("差旅申请"),i}return r(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this,t=w["default"].getCurrentUser();Promise.all([t]).then(function(t){e.state.params.nickName=t[0].data.nickName,e.state.params.deptName=t[0].data.directDeptName,e.state.params.deptId=t[0].data.directDeptId,e.state.params.travellers.push(e.simpleUser(t[0].data)),e.setState(e.state)},function(e){})}},{key:"render",value:function(){var e=this,t=this.state,i=t.innCityList,n=t.params,a=t.disabled,s=(t.showCitySelectModule,t.innType);return c["default"].createElement(k["default"],{className:"apply",loadable:!1,refreshable:!1},c["default"].createElement("div",{className:"weui-cells__title"},c["default"].createElement("span",{className:"text-danger m-r-xs"},"*"),"基本信息"),c["default"].createElement("div",{className:"weui-cells m-t-n"},c["default"].createElement("div",{className:"weui-cell bg-white"},c["default"].createElement("div",{className:"weui-cell__hd"},c["default"].createElement("label",{className:"weui-label"},"申请人")),c["default"].createElement("div",{className:"weui-cell__bd text-dark m-l-xs"},n.nickName+" - "+n.deptName)),c["default"].createElement("div",{className:"weui-cell bg-white p-v-xs"},c["default"].createElement("div",{className:"weui-cell__hd"},c["default"].createElement("label",{htmlFor:"traveller",className:"weui-label"},"出行人")),c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("a",{href:"javascript:;",className:"user addUser",onClick:this.addUser},c["default"].createElement(E["default"],{name:"custom-add",className:"text-primary",style:{fontSize:"34px"}})),n.travellers.map(function(e,t){return c["default"].createElement("a",{href:"javascript:;",className:"user delUser",key:e.userId,onClick:this.deleteUser.bind(this,t)},c["default"].createElement("img",{className:"user_avatar",src:e.avatar}),c["default"].createElement("div",{className:"user_name"},e.nickName),c["default"].createElement(E["default"],{name:"custom-minuse",className:"user_delete"}))},this))),c["default"].createElement("div",{className:"weui-cell bg-white baseline"},c["default"].createElement("div",{className:"weui-cell__hd"},c["default"].createElement("label",{htmlFor:"traveller",className:"weui-label"},"出行事由")),c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("textarea",{className:"weui-textarea",placeholder:"请输入出行事由,限制300字",value:n.reason,onChange:function(t){e.resizeTextarea(t),n.reason=t.target.value,e.setState(e.state)},maxLength:"300"})))),c["default"].createElement("div",{className:"weui-cells__title"},c["default"].createElement("span",{className:"text-danger m-r-xs"},"*"),"出行信息",c["default"].createElement("span",{className:"text-primary m-l-sm"},"(手机暂不支持差旅补单)")),c["default"].createElement("div",{className:"weui-cells m-t-n"},n.marches.map(function(e,t){var i=this;return c["default"].createElement("div",{className:(0,p["default"])("m-b-sm",{"m-b-n":t==n.marches.length-1}),key:t},c["default"].createElement("div",{className:"weui-cell bg-white"},c["default"].createElement("div",{className:"weui-cell__hd"},c["default"].createElement("label",{htmlFor:"travellerfrom",className:"weui-label"},"出发")),c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("input",{id:"travellerfrom",className:"weui-input",type:"text",placeholder:"请选择出发城市",value:e.fromCity,onClick:this.selectCity.bind(this,e,"fromCity",t)}))),c["default"].createElement("div",{className:"weui-cell bg-white"},c["default"].createElement("div",{className:"weui-cell__hd"},c["default"].createElement("label",{htmlFor:"travellerto",className:"weui-label"},"到达")),c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("input",{id:"travellerto",className:"weui-input",type:"text",placeholder:"请选择到达城市",value:e.toCity,onClick:this.selectCity.bind(this,e,"toCity",t)}))),c["default"].createElement("div",{className:"weui-cell weui-cell_select weui-cell_select-after bg-white"},c["default"].createElement("div",{className:"weui-cell__hd"},c["default"].createElement("label",{htmlFor:"date",className:"weui-label"},"日期")),c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("input",{className:"weui-select",name:"date",type:"date",value:e.departDate,onChange:function(t){e.departDate=t.target.value,i.setState(i.state)}}))),c["default"].createElement("div",{className:"weui-cell weui-cell_select weui-cell_select-after bg-white"},c["default"].createElement("div",{className:"weui-cell__hd"},c["default"].createElement("label",{htmlFor:"traffic"+t,className:"weui-label"},"交通")),c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("select",{className:"weui-select",id:"traffic"+t,name:"traffic"+t,value:e.trafficType,onChange:function(t){e.trafficType=t.target.value,i.setState(i.state)}},c["default"].createElement("option",{key:"",value:""},"请选择交通方式"),c["default"].createElement("option",{key:"2",value:"2"},"汽车"),c["default"].createElement("option",{key:"0",value:"0"},"火车"),c["default"].createElement("option",{key:"1",value:"1"},"飞机")))))},this),c["default"].createElement("a",{href:"javascript:;",className:"text-center block m-t-xs"},c["default"].createElement(E["default"],{name:"custom-add-circle",className:"text-primary",style:{fontSize:"30px"},onClick:this.addMarch}),n.marches.length>1?c["default"].createElement(E["default"],{name:"custom-minuse-circle",className:"text-danger m-l-xs",style:{fontSize:"30px"},onClick:this.minuseMarch}):null)),c["default"].createElement("div",{className:"weui-cells__title"},c["default"].createElement("span",{className:"text-danger m-r-xs"},"*"),"住宿信息"),c["default"].createElement("div",{className:"weui-cells weui-cells_radio bg-white"},c["default"].createElement("label",{className:"weui-cell weui-check__label",htmlFor:"self"},c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("p",null,"自行预订")),c["default"].createElement("div",{className:"weui-cell__ft"},c["default"].createElement("input",{type:"radio",className:"weui-check",name:"bookInn",id:"self",onChange:this.bookInn.bind(this,"self"),checked:"self"==s?"checked":""}),c["default"].createElement("span",{className:"weui-icon-checked"}))),c["default"].createElement("label",{className:"weui-cell weui-check__label",htmlFor:"company"},c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("p",null,"公司账户预订")),c["default"].createElement("div",{className:"weui-cell__ft"},c["default"].createElement("input",{type:"radio",className:"weui-check",name:"bookInn",id:"company",onChange:this.bookInn.bind(this,"company"),checked:"company"==s?"checked":""}),c["default"].createElement("span",{className:"weui-icon-checked"})))),"company"==s?c["default"].createElement("div",{className:"weui-cells m-t"},n.inns.map(function(e,t){var a=this;return c["default"].createElement("div",{className:(0,p["default"])("m-b-sm",{"m-b-n":t==n.inns.length-1}),key:t},c["default"].createElement("div",{className:"weui-cell bg-white p-v-xs"},c["default"].createElement("div",{className:"weui-cell__hd"},c["default"].createElement("label",{htmlFor:"traveller",className:"weui-label"},"住宿人")),c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("a",{href:"javascript:;",className:"user addUser",onClick:this.addInnTravellers.bind(this,e)},c["default"].createElement(E["default"],{name:"custom-add",className:"text-primary",style:{fontSize:"34px"}})),e.innTravellers.map(function(t,i){return c["default"].createElement("a",{href:"javascript:;",className:"user delUser",key:t.userId,onClick:this.deleteInnTraveller.bind(this,e,i)},c["default"].createElement("img",{className:"user_avatar",src:t.avatar}),c["default"].createElement("div",{className:"user_name"},t.nickName),c["default"].createElement(E["default"],{name:"custom-minuse",className:"user_delete"}))},this))),c["default"].createElement("div",{className:"weui-cell weui-cell_select weui-cell_select-after bg-white"},c["default"].createElement("div",{className:"weui-cell__hd"},c["default"].createElement("label",{htmlFor:"innCity"+t,className:"weui-label"},"入住城市")),c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("select",{className:"weui-select",id:"innCity"+t,name:"innCity"+t,value:e.innCity,onChange:function(t){e.innCity=t.target.value,a.setState(a.state)}},c["default"].createElement("option",{value:"",key:""},"请选择入住城市"),i.map(function(e,t){return c["default"].createElement("option",{value:e.cityName,key:t},e.cityName)},this)))),c["default"].createElement("div",{className:"weui-cell weui-cell_select weui-cell_select-after bg-white"},c["default"].createElement("div",{className:"weui-cell__hd"},c["default"].createElement("label",{htmlFor:"date",className:"weui-label"},"入住日期")),c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("input",{className:"weui-select",name:"beginTime",type:"date",value:e.beginTime,onChange:function(t){e.beginTime=t.target.value,a.setState(a.state)}}))),c["default"].createElement("div",{className:"weui-cell weui-cell_select weui-cell_select-after bg-white"},c["default"].createElement("div",{className:"weui-cell__hd"},c["default"].createElement("label",{htmlFor:"date",className:"weui-label"},"退房日期")),c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("input",{className:"weui-select",name:"endTime",type:"date",value:e.endTime,onChange:function(t){e.endTime=t.target.value,a.setState(a.state)}}))))},this),c["default"].createElement("a",{href:"javascript:;",className:"text-center block m-t-xs"},c["default"].createElement(E["default"],{name:"custom-add-circle",className:"text-primary",style:{fontSize:"30px"},onClick:this.addInn}),n.inns.length>1?c["default"].createElement(E["default"],{name:"custom-minuse-circle",className:"text-danger m-l-xs",style:{fontSize:"30px"},onClick:this.minuseInn}):null)):null,c["default"].createElement("div",{className:"weui-flex p-xs"},c["default"].createElement("div",{className:"weui-flex__item"},c["default"].createElement("a",{href:"javascript:;",className:(0,p["default"])("weui-btn","weui-btn_primary","m-xs",{"weui-btn_disabled":a}),onClick:this.submit},"提交"))))}}]),t}(d["default"]);t["default"]=N},137:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(4),c=n(l),u=i(22),h=i(10),d=n(h),f=i(41),p=n(f),m=i(33),v=n(m),y=i(14),b=n(y),g=i(19),w=n(g),_=function(e){function t(e){a(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.state={params:{outlineType:3},ajaxUrl:"/api/trip/getMyOutlineList",isEnd:!1,list:[],currentIndex:1},i.getList=function(){var e=Object.assign({},i.state.params,{pageNum:i.state.currentIndex,pageSize:10});return b["default"].post(i.state.ajaxUrl,e,1).then(function(e){i.state.list=i.state.list.concat(e.data.list||[]),i.state.isEnd=e.data.isEnd,i.state.currentIndex++,i.setState(i.state)},function(e){i.state.isEnd=!0,i.setState(i.state)})},i.onRefresh=function(){return i.state.list=[],i.state.currentIndex=1,i.getList(i.state.currentIndex)},i.onLoad=function(){return i.getList(i.state.currentIndex)},w["default"].setTitle("差旅审批"),i.onRefresh(),i}return r(t,e),o(t,[{key:"componentDidMount",value:function(){document.addEventListener("reload",function(e){window.location.reload()},!1)}},{key:"render",value:function(){var e=(this.state.params,this.state.ajaxUrl,this.state.list);return c["default"].createElement(p["default"],{className:"weui-cells",onRefresh:this.onRefresh,onLoad:this.onLoad,isEnd:this.state.isEnd},e.map(function(t,i){return c["default"].createElement("div",{className:(0,d["default"])("weui-form-preview",{"m-b-n":i==e.length-1}),key:i},c["default"].createElement("div",{className:"weui-form-preview__hd"},c["default"].createElement("div",{className:"weui-form-preview__item"},c["default"].createElement("label",{className:"weui-form-preview__label"},"行程"),c["default"].createElement("em",{className:"weui-form-preview__value"},t.fromCity+"-"+t.toCities))),c["default"].createElement("div",{className:"weui-form-preview__bd"},c["default"].createElement("div",{className:"weui-form-preview__item"},c["default"].createElement("label",{className:"weui-form-preview__label"},"申请人"),c["default"].createElement("span",{className:"weui-form-preview__value"},t.applyNickname)),c["default"].createElement("div",{className:"weui-form-preview__item"},c["default"].createElement("label",{className:"weui-form-preview__label"},"出行人"),c["default"].createElement("span",{className:"weui-form-preview__value"},t.passengers)),c["default"].createElement("div",{className:"weui-form-preview__item"},c["default"].createElement("label",{className:"weui-form-preview__label"},"时间"),c["default"].createElement("span",{className:"weui-form-preview__value"},t.departDateString))),c["default"].createElement("div",{className:"weui-form-preview__ft"},t.viewerOperateItems.indexOf(21)!=-1?c["default"].createElement(u.Link,{className:"weui-form-preview__btn weui-form-preview__btn_primary pushWindow",to:{pathname:"/audit/"+t.applyId}},"审核"):null))},this))}}]),t}(v["default"]);t["default"]=_},138:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(4),c=n(l),u=i(22),h=i(10),d=n(h),f=i(41),p=n(f),m=i(33),v=n(m),y=i(14),b=n(y),g=i(19),w=n(g),_=function(e){function t(e){a(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.state={params:{outlineType:4},ajaxUrl:"/api/trip/getMyOutlineList",isEnd:!1,list:[],currentIndex:1},i.getList=function(){var e=Object.assign({},i.state.params,{pageNum:i.state.currentIndex,pageSize:10});return b["default"].post(i.state.ajaxUrl,e,1).then(function(e){i.state.list=i.state.list.concat(e.data.list||[]),i.state.isEnd=e.data.isEnd,i.state.currentIndex++,i.setState(i.state)},function(e){i.state.isEnd=!0,i.setState(i.state)})},i.onRefresh=function(){return i.state.list=[],i.state.currentIndex=1,i.getList(i.state.currentIndex)},i.onLoad=function(){return i.getList(i.state.currentIndex)},w["default"].setTitle("差旅审批"),i.onRefresh(),i}return r(t,e),o(t,[{key:"componentDidMount",value:function(){document.addEventListener("reload",function(e){window.location.reload()},!1)}},{key:"render",value:function(){var e=(this.state.params,this.state.ajaxUrl,this.state.list);return c["default"].createElement(p["default"],{className:"weui-cells",onRefresh:this.onRefresh,onLoad:this.onLoad,isEnd:this.state.isEnd},e.map(function(t,i){return c["default"].createElement("div",{className:(0,d["default"])("weui-form-preview",{"m-b-n":i==e.length-1}),key:i},c["default"].createElement("div",{className:"weui-form-preview__hd"},c["default"].createElement("div",{className:"weui-form-preview__item"},c["default"].createElement("label",{className:"weui-form-preview__label"},"行程"),c["default"].createElement("em",{className:"weui-form-preview__value"},t.fromCity+"-"+t.toCities))),c["default"].createElement("div",{className:"weui-form-preview__bd"},c["default"].createElement("div",{className:"weui-form-preview__item"},c["default"].createElement("label",{className:"weui-form-preview__label"},"申请人"),c["default"].createElement("span",{className:"weui-form-preview__value"},t.applyNickname)),c["default"].createElement("div",{className:"weui-form-preview__item"},c["default"].createElement("label",{className:"weui-form-preview__label"},"出行人"),c["default"].createElement("span",{className:"weui-form-preview__value"},t.passengers)),c["default"].createElement("div",{className:"weui-form-preview__item"},c["default"].createElement("label",{className:"weui-form-preview__label"},"时间"),c["default"].createElement("span",{className:"weui-form-preview__value"},t.departDateString))),c["default"].createElement("div",{className:"weui-form-preview__ft"},t.viewerOperateItems.indexOf(10)!=-1?c["default"].createElement(u.Link,{className:"weui-form-preview__btn weui-form-preview__btn_primary pushWindow",to:{pathname:"/detail/"+t.applyId}},"查看"):null))},this))}}]),t}(v["default"]);t["default"]=_},139:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(4),c=n(l),u=i(10),h=n(u),d=i(33),f=n(d),p=i(14),m=n(p),v=i(19),y=n(v),b=function(e){function t(e){a(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.state={detailInfo:{detailFormList:[],trifficForms:[],tripHotelList:[],teamBuildFormList:[],
entertainFormList:[]},showAudit:!1,disabled:!1},i.selected=function(e,t){e.checked=t.target.checked,i.setState(i.state)},i.audit=function(){var e=[],t=[];i.state.detailInfo.applyItems.forEach(function(i,n){i.checked?e.push(i.taskId+"_pass"):(e.push(i.taskId+"_fail"),t.push(i.passengerNickname))});var n={id:i.state.detailInfo.applyId,taskIdAndActions:e.join(","),comment:i.refs.auditTextarea.value};return t.length&&!i.refs.auditTextarea.value?void y["default"].error("有人不通过需要填写驳回意见~",1500):(y["default"].startLoading(),i.state.disabled=!0,i.setState(i.state),void m["default"].post("/api/trip/audit",n).then(function(e){y["default"].sendNotification("reload"),y["default"].success("操作成功",1500,function(){y["default"].popWindow("/audit")})},function(e){i.state.disabled=!1,i.setState(i.state)}))},y["default"].setTitle("差旅详情"),i}return r(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this;y["default"].startLoading(),m["default"].get("/api/trip/detail",{id:this.props.params.id}).then(function(t){e.state.detailInfo=t.data,e.state.detailInfo.applyItems.forEach(function(e){e.checked=!0}),e.props.route.path.indexOf("audit")!=-1&&(e.state.showAudit=!0),e.setState(e.state),y["default"].closeLoading()},function(t){setTimeout(function(){e.props.route.path.indexOf("audit")!=-1?y["default"].popWindow("/audit"):y["default"].popWindow("/audited")},2e3)})}},{key:"render",value:function(){var e=this.state.detailInfo,t=this.state.showAudit,i=this.state.disabled;return c["default"].createElement("div",{className:"detail"},c["default"].createElement("div",{className:"weui-cells__title"},"基本信息"),c["default"].createElement("div",{className:"weui-cells m-t-n bg-white"},c["default"].createElement("div",{className:"weui-cell bg-white"},c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("div",{className:"pull-left"},"申请人"),c["default"].createElement("div",{className:"pull-right m-r-sm text-light"},e.applyNickname)),c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("div",{className:"pull-left m-l-sm"},"时间"),c["default"].createElement("div",{className:"pull-right text-light"},e.applyDateString))),c["default"].createElement("div",{className:"weui-cell"},c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("p",null,"部门")),c["default"].createElement("div",{className:"weui-cell__ft"},e.departName)),c["default"].createElement("div",{className:"weui-cell"},e.passengers&&e.passengers.length>15?c["default"].createElement("div",{className:"weui-media-box_text"},c["default"].createElement("h4",{className:"weui-media-box__title"},"出行人"),c["default"].createElement("p",{className:"weui-media-box__desc text-normal"},e.passengers)):[c["default"].createElement("div",{className:"weui-cell__bd",key:"0"},c["default"].createElement("p",null,"出行人")),c["default"].createElement("div",{className:"weui-cell__ft",key:"1"},e.passengers)]),c["default"].createElement("div",{className:"weui-cell"},e.reason&&e.reason.length>15?c["default"].createElement("div",{className:"weui-media-box_text"},c["default"].createElement("h4",{className:"weui-media-box__title"},"出行事由"),c["default"].createElement("p",{className:"weui-media-box__desc text-normal"},e.reason)):[c["default"].createElement("div",{className:"weui-cell__bd",key:"0"},c["default"].createElement("p",null,"出行事由")),c["default"].createElement("div",{className:"weui-cell__ft",key:"1"},e.reason)])),e.trips&&e.trips.length?[c["default"].createElement("div",{className:"weui-cells__title",key:"0"},"行程详情"),c["default"].createElement("div",{className:"weui-cells m-t-n",key:"1"},e.trips.map(function(t,i){return c["default"].createElement("div",{className:(0,h["default"])("bg-white",{"m-b":i!=e.trips.length-1}),key:i},c["default"].createElement("div",{className:"weui-cell"},c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("div",{className:"pull-left"},"时间"),c["default"].createElement("div",{className:"pull-right m-r-sm text-light"},t.departDateString)),c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("div",{className:"pull-left m-l-sm"},"交通类型"),c["default"].createElement("div",{className:"pull-right text-light"},t.trafficTypeName))),c["default"].createElement("div",{className:"weui-cell"},c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("p",null,"行程")),c["default"].createElement("div",{className:"weui-cell__ft"},t.fromCity+"-"+t.toCity)))},this))]:null,e.hotels&&e.hotels.length?[c["default"].createElement("div",{className:"weui-cells__title",key:"0"},"住宿详情"),c["default"].createElement("div",{className:"weui-cells m-t-n",key:"1"},e.hotels.map(function(t,i){return c["default"].createElement("div",{className:(0,h["default"])("bg-white",{"m-b":i!=e.hotels.length-1}),key:i},c["default"].createElement("div",{className:"weui-cell"},c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("div",{className:"pull-left"},"入住日期"),c["default"].createElement("div",{className:"pull-right m-r-sm text-light"},t.checkInDateString)),c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("div",{className:"pull-left m-l-sm"},"退房日期"),c["default"].createElement("div",{className:"pull-right text-light"},t.checkoutDateString))),c["default"].createElement("div",{className:"weui-cell"},c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("p",null,"入住城市")),c["default"].createElement("div",{className:"weui-cell__ft"},t.city)),c["default"].createElement("div",{className:"weui-cell"},t.passengers&&t.passengers.length>15?c["default"].createElement("div",{className:"weui-media-box_text"},c["default"].createElement("h4",{className:"weui-media-box__title"},"入住人员"),c["default"].createElement("p",{className:"weui-media-box__desc text-normal"},t.passengers)):[c["default"].createElement("div",{className:"weui-cell__bd",key:"0"},c["default"].createElement("p",null,"入住人员")),c["default"].createElement("div",{className:"weui-cell__ft",key:"1"},t.passengers)]))},this))]:null,t?[c["default"].createElement("div",{className:"weui-cells__title",key:"0"},"出行人审批"),e.applyItems.map(function(e,t){return c["default"].createElement("div",{className:"weui-cells weui-cells_checkbox bg-white",key:t},c["default"].createElement("label",{className:"weui-cell weui-check__label",htmlFor:"checkbox"+t},c["default"].createElement("div",{className:"weui-cell__hd"},c["default"].createElement("input",{type:"checkbox",className:"weui-check",name:"checkbox",id:"checkbox"+t,onChange:this.selected.bind(this,e),checked:e.checked?"checked":""}),c["default"].createElement("i",{className:"weui-icon-checked"})),c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("span",{className:"usernick"},e.passengerNickname+"("+e.realname+") - "+e.cardId+" - "+e.mobile))))},this),c["default"].createElement("div",{className:"auditArea",key:"2"},c["default"].createElement("div",{className:"weui-cells weui-cells_form"},c["default"].createElement("div",{className:"weui-cell"},c["default"].createElement("div",{className:"weui-cell__bd"},c["default"].createElement("textarea",{className:"weui-textarea",placeholder:"请输入审批意见,限制100字",rows:"3",ref:"auditTextarea",maxLength:"100"})))),c["default"].createElement("div",{className:"weui-flex p-xs"},c["default"].createElement("div",{className:"weui-flex__item"},c["default"].createElement("a",{href:"javascript:;",className:(0,h["default"])("weui-btn","weui-btn_primary","m-xs",{"weui-btn_disabled":i}),onClick:this.audit},"确定"))))]:null)}}]),t}(f["default"]);t["default"]=b},140:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(4),c=n(l),u=i(22),h=i(10),d=n(h),f=i(41),p=n(f),m=i(33),v=n(m),y=i(14),b=n(y),g=i(19),w=n(g),_=function(e){function t(e){a(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.state={params:{outlineType:12},ajaxUrl:"/api/trip/getMyOutlineList",isEnd:!1,list:[],currentIndex:1},i.getList=function(){var e=Object.assign({},i.state.params,{pageNum:i.state.currentIndex,pageSize:10});return b["default"].post(i.state.ajaxUrl,e,1).then(function(e){i.state.list=i.state.list.concat(e.data.list||[]),i.state.isEnd=e.data.isEnd,i.state.currentIndex++,i.setState(i.state)},function(e){i.state.isEnd=!0,i.setState(i.state)})},i.onRefresh=function(){return i.state.list=[],i.state.currentIndex=1,i.getList(i.state.currentIndex)},i.onLoad=function(){return i.getList(i.state.currentIndex)},i.cancel=function(e,t){var n={id:e.applyId};confirm("确定撤销该单据?")&&(w["default"].startLoading("撤销中"),b["default"].post("/api/trip/cancel",n).then(function(n){console.log(t),w["default"].success("操作成功",1500,function(){e.viewerOperateItems=e.viewerOperateItems.replace("90",""),e.statusName="已撤销",e.assigneeNickname="",i.setState(i.state)})},function(e){}))},i.book=function(e){b["default"].get("/api/trip/getCtripTicket",{applyWorkId:e}).then(function(e){var t=e.data.map,i='\n\t\t\t\t<form style={{"display":"none"}} action="https://ct.ctrip.com/m/SingleSignOn/H5SignInfo" id="H5SignInfo" method="post">\n\t\t\t\t\t<input type="hidden" name="Appid" value="'+t.Appid+'"/> \n\t\t            <input type="hidden" name="AccessUserId" value="'+t.AppKey+'"/>\n\t\t            <input type="hidden" name="AppSecurity" value="'+t.AppSecurity+'"/> \n\t\t            <input type="hidden" name="Token" value="'+t.Ticket+'"/> \n\t\t            <input type="hidden" name="EmployeeID" value="'+t.EmployeeID+'"/>  \n\t\t            <input type="hidden" name="InitPage" value="Home" />  \n\t\t            <input type="hidden" name="Callback" value="https://ct.ctrip.com/m" />  \n\t\t            <input type="submit" value="机票预订" id="button"/> \n\t        \t</form>\n\t\t\t',n=document.createElement("div");document.getElementById("H5SignInfo")?document.getElementById("appWrapper").removeChild(document.getElementById("H5SignInfo")).innerHTML=i:document.getElementById("appWrapper").appendChild(n).innerHTML=i,setTimeout(function(){document.getElementById("button").click()},500)})},w["default"].setTitle("我的申请"),i.onRefresh(),i}return r(t,e),o(t,[{key:"render",value:function(){var e=(this.state.params,this.state.ajaxUrl,this.state.list);return c["default"].createElement(p["default"],{className:"weui-cells",onRefresh:this.onRefresh,onLoad:this.onLoad,isEnd:this.state.isEnd},e.map(function(t,i){return c["default"].createElement("div",{className:(0,d["default"])("weui-form-preview",{"m-b-n":i==e.length-1}),key:i},c["default"].createElement("div",{className:"weui-form-preview__hd"},c["default"].createElement("div",{className:"weui-form-preview__item"},c["default"].createElement("label",{className:"weui-form-preview__label"},"行程"),c["default"].createElement("em",{className:"weui-form-preview__value"},t.fromCity+"-"+t.toCities))),c["default"].createElement("div",{className:"weui-form-preview__bd"},c["default"].createElement("div",{className:"weui-form-preview__item"},c["default"].createElement("label",{className:"weui-form-preview__label"},"申请人"),c["default"].createElement("span",{className:"weui-form-preview__value"},t.applyNickname)),c["default"].createElement("div",{className:"weui-form-preview__item"},c["default"].createElement("label",{className:"weui-form-preview__label"},"出行人"),c["default"].createElement("span",{className:"weui-form-preview__value"},t.passengers)),c["default"].createElement("div",{className:"weui-form-preview__item"},c["default"].createElement("label",{className:"weui-form-preview__label"},"申请时间"),c["default"].createElement("span",{className:"weui-form-preview__value"},t.applyDateString)),c["default"].createElement("div",{className:"weui-form-preview__item"},c["default"].createElement("label",{className:"weui-form-preview__label"},"状态"),c["default"].createElement("span",{className:"weui-form-preview__value"},t.assigneeNickname?t.statusName+"("+t.assigneeNickname+")":""+t.statusName))),c["default"].createElement("div",{className:"weui-form-preview__ft"},t.viewerOperateItems.indexOf(10)!=-1?c["default"].createElement(u.Link,{className:"weui-form-preview__btn weui-form-preview__btn_primary pushWindow",to:{pathname:"/detail/"+t.applyId}},"查看"):null,t.viewerOperateItems.indexOf(90)!=-1?c["default"].createElement(u.Link,{className:"weui-form-preview__btn weui-form-preview__btn_primary",onClick:this.cancel.bind(this,t,i)},"撤销"):null,t.viewerOperateItems.indexOf(100)!=-1?c["default"].createElement(u.Link,{className:"weui-form-preview__btn weui-form-preview__btn_primary",onClick:this.book.bind(this,t.applyWorkId)},"机票预订"):null,t.viewerOperateItems.indexOf(101)!=-1?c["default"].createElement(u.Link,{className:"weui-form-preview__btn weui-form-preview__btn_primary",onClick:this.book.bind(this,t.applyWorkId)},"酒店预定"):null))},this))}}]),t}(v["default"]);t["default"]=_},144:function(e,t){"use strict";function i(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var i=Object(e),n=1;n<arguments.length;n++){var a=arguments[n];if(void 0!==a&&null!==a)for(var s=Object.keys(Object(a)),r=0,o=s.length;r<o;r++){var l=s[r],c=Object.getOwnPropertyDescriptor(a,l);void 0!==c&&c.enumerable&&(i[l]=a[l])}}return i}function n(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:i})}e.exports={assign:i,polyfill:n}},145:function(e,t){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function a(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function r(e){return void 0===e}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!a(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,i,a,o,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(i=this._events[e],r(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),i.apply(this,o)}else if(s(i))for(o=Array.prototype.slice.call(arguments,1),c=i.slice(),a=c.length,l=0;l<a;l++)c[l].apply(this,o);return!0},i.prototype.addListener=function(e,t){var a;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(a=r(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,a&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function i(){this.removeListener(e,i),a||(a=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var a=!1;return i.listener=t,this.on(e,i),this},i.prototype.removeListener=function(e,t){var i,a,r,o;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],r=i.length,a=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(i)){for(o=r;o-- >0;)if(i[o]===t||i[o].listener&&i[o].listener===t){a=o;break}if(a<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],n(i))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},146:function(e,t){},147:function(e,t){},148:function(e,t,i){/**
	 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
	 *
	 * @version 1.0.0
	 * @codingstandard ftlabs-jsv2
	 * @copyright The Financial Times Limited [All Rights Reserved]
	 * @license MIT License (see LICENSE.txt)
	 */
function n(e){"use strict";function t(e,t){return function(){return e.apply(t,arguments)}}var i;this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=e,n.notNeeded(e)||(s&&(e.addEventListener("mouseover",t(this.onMouse,this),!0),e.addEventListener("mousedown",t(this.onMouse,this),!0),e.addEventListener("mouseup",t(this.onMouse,this),!0)),e.addEventListener("click",t(this.onClick,this),!0),e.addEventListener("touchstart",t(this.onTouchStart,this),!1),e.addEventListener("touchmove",t(this.onTouchMove,this),!1),e.addEventListener("touchend",t(this.onTouchEnd,this),!1),e.addEventListener("touchcancel",t(this.onTouchCancel,this),!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,i,n){var a=Node.prototype.removeEventListener;"click"===t?a.call(e,t,i.hijacked||i,n):a.call(e,t,i,n)},e.addEventListener=function(t,i,n){var a=Node.prototype.addEventListener;"click"===t?a.call(e,t,i.hijacked||(i.hijacked=function(e){e.propagationStopped||i(e)}),n):a.call(e,t,i,n)}),"function"==typeof e.onclick&&(i=e.onclick,e.addEventListener("click",function(e){i(e)},!1),e.onclick=null))}var a,s=navigator.userAgent.indexOf("Android")>0,r=/iP(ad|hone|od)/.test(navigator.userAgent),o=r&&/OS 4_\d(_\d)?/.test(navigator.userAgent),l=r&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);n.prototype.needsClick=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(r&&"file"===e.type||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)},n.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!s;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},n.prototype.sendClick=function(e,t){"use strict";var i,n;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),n=t.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(e),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,e.dispatchEvent(i)},n.prototype.determineEventType=function(e){"use strict";return s&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},n.prototype.focus=function(e){"use strict";var t;r&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},n.prototype.updateScrollParent=function(e){"use strict";var t,i;if(t=e.fastClickScrollParent,!t||!t.contains(e)){i=e;do{if(i.scrollHeight>i.offsetHeight){t=i,e.fastClickScrollParent=i;break}i=i.parentElement}while(i)}t&&(t.fastClickLastScrollTop=t.scrollTop)},n.prototype.getTargetElementFromEventTarget=function(e){"use strict";return e.nodeType===Node.TEXT_NODE?e.parentNode:e},n.prototype.onTouchStart=function(e){"use strict";var t,i,n;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),i=e.targetTouches[0],r){if(n=window.getSelection(),n.rangeCount&&!n.isCollapsed)return!0;if(!o){if(i.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=i.pageX,this.touchStartY=i.pageY,e.timeStamp-this.lastClickTime<200&&e.preventDefault(),!0},n.prototype.touchHasMoved=function(e){"use strict";var t=e.changedTouches[0],i=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>i||Math.abs(t.pageY-this.touchStartY)>i},n.prototype.onTouchMove=function(e){"use strict";return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},n.prototype.findControl=function(e){"use strict";return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},n.prototype.onTouchEnd=function(e){"use strict";var t,i,n,a,c,u=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,l&&(c=e.changedTouches[0],u=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),n=u.tagName.toLowerCase(),"label"===n){if(t=this.findControl(u)){if(this.focus(u),s)return!1;u=t}}else if(this.needsFocus(u))return e.timeStamp-i>100||r&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,e),o&&"select"===n||(this.targetElement=null,e.preventDefault()),!1);return!(!r||o||(a=u.fastClickScrollParent,!a||a.fastClickLastScrollTop===a.scrollTop))||(this.needsClick(u)||(e.preventDefault(),this.sendClick(u,e)),!1)},n.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},n.prototype.onMouse=function(e){"use strict";return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},n.prototype.onClick=function(e){"use strict";var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||(t=this.onMouse(e),t||(this.targetElement=null),t)},n.prototype.destroy=function(){"use strict";var e=this.layer;s&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},n.notNeeded=function(e){"use strict";var t,i;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!s)return!0;if(t=document.querySelector("meta[name=viewport]")){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(i>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===e.style.msTouchAction},n.attach=function(e){"use strict";return new n(e)},a=function(){"use strict";return n}.call(t,i,t,e),!(void 0!==a&&(e.exports=a))},168:function(e,t,i){var n;/*! iScroll v5.2.0 ~ (c) 2008-2016 Matteo Spinelli ~ http://cubiq.org/license */
!function(a,s,r){function o(e,t){this.wrapper="string"==typeof e?s.querySelector(e):e,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!h.hasPointer,disableTouch:h.hasPointer||!h.hasTouch,disableMouse:h.hasPointer||h.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:"undefined"==typeof a.onmousedown};for(var i in t)this.options[i]=t[i];this.translateZ=this.options.HWCompositing&&h.hasPerspective?" translateZ(0)":"",this.options.useTransition=h.hasTransition&&this.options.useTransition,this.options.useTransform=h.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?h.ease[this.options.bounceEasing]||h.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function l(e,t,i){var n=s.createElement("div"),a=s.createElement("div");return i===!0&&(n.style.cssText="position:absolute;z-index:9999",a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),a.className="iScrollIndicator","h"==e?(i===!0&&(n.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",a.style.height="100%"),n.className="iScrollHorizontalScrollbar"):(i===!0&&(n.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",a.style.width="100%"),n.className="iScrollVerticalScrollbar"),n.style.cssText+=";overflow:hidden",t||(n.style.pointerEvents="none"),n.appendChild(a),n}function c(e,t){this.wrapper="string"==typeof t.el?s.querySelector(t.el):t.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=e,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var i in t)this.options[i]=t[i];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(h.addEvent(this.indicator,"touchstart",this),h.addEvent(a,"touchend",this)),this.options.disablePointer||(h.addEvent(this.indicator,h.prefixPointerEvent("pointerdown"),this),h.addEvent(a,h.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(h.addEvent(this.indicator,"mousedown",this),h.addEvent(a,"mouseup",this))),this.options.fade){this.wrapperStyle[h.style.transform]=this.scroller.translateZ;var n=h.style.transitionDuration;this.wrapperStyle[n]=h.isBadAndroid?"0.0001ms":"0ms";var r=this;h.isBadAndroid&&u(function(){"0.0001ms"===r.wrapperStyle[n]&&(r.wrapperStyle[n]="0s")}),this.wrapperStyle.opacity="0"}}var u=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(e){a.setTimeout(e,1e3/60)},h=function(){function e(e){return n!==!1&&(""===n?e:n+e.charAt(0).toUpperCase()+e.substr(1))}var t={},i=s.createElement("div").style,n=function(){for(var e,t=["t","webkitT","MozT","msT","OT"],n=0,a=t.length;n<a;n++)if(e=t[n]+"ransform",e in i)return t[n].substr(0,t[n].length-1);return!1}();t.getTime=Date.now||function(){return(new Date).getTime()},t.extend=function(e,t){for(var i in t)e[i]=t[i]},t.addEvent=function(e,t,i,n){e.addEventListener(t,i,!!n)},t.removeEvent=function(e,t,i,n){e.removeEventListener(t,i,!!n)},t.prefixPointerEvent=function(e){return a.MSPointerEvent?"MSPointer"+e.charAt(7).toUpperCase()+e.substr(8):e},t.momentum=function(e,t,i,n,a,s){var o,l,c=e-t,u=r.abs(c)/i;return s=void 0===s?6e-4:s,o=e+u*u/(2*s)*(c<0?-1:1),l=u/s,o<n?(o=a?n-a/2.5*(u/8):n,c=r.abs(o-e),l=c/u):o>0&&(o=a?a/2.5*(u/8):0,c=r.abs(e)+o,l=c/u),{destination:r.round(o),duration:l}};var o=e("transform");return t.extend(t,{hasTransform:o!==!1,hasPerspective:e("perspective")in i,hasTouch:"ontouchstart"in a,hasPointer:!(!a.PointerEvent&&!a.MSPointerEvent),hasTransition:e("transition")in i}),t.isBadAndroid=function(){var e=a.navigator.appVersion;if(/Android/.test(e)&&!/Chrome\/\d/.test(e)){var t=e.match(/Safari\/(\d+.\d)/);return!(t&&"object"==typeof t&&t.length>=2)||parseFloat(t[1])<535.19}return!1}(),t.extend(t.style={},{transform:o,transitionTimingFunction:e("transitionTimingFunction"),transitionDuration:e("transitionDuration"),transitionDelay:e("transitionDelay"),transformOrigin:e("transformOrigin")}),t.hasClass=function(e,t){var i=new RegExp("(^|\\s)"+t+"(\\s|$)");return i.test(e.className)},t.addClass=function(e,i){if(!t.hasClass(e,i)){var n=e.className.split(" ");n.push(i),e.className=n.join(" ")}},t.removeClass=function(e,i){if(t.hasClass(e,i)){var n=new RegExp("(^|\\s)"+i+"(\\s|$)","g");e.className=e.className.replace(n," ")}},t.offset=function(e){for(var t=-e.offsetLeft,i=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,i-=e.offsetTop;return{left:t,top:i}},t.preventDefaultException=function(e,t){for(var i in t)if(t[i].test(e[i]))return!0;return!1},t.extend(t.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),t.extend(t.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return r.sqrt(1- --e*e)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(e){var t=4;return(e-=1)*e*((t+1)*e+t)+1}},bounce:{style:"",fn:function(e){return(e/=1)<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},elastic:{style:"",fn:function(e){var t=.22,i=.4;return 0===e?0:1==e?1:i*r.pow(2,-10*e)*r.sin((e-t/4)*(2*r.PI)/t)+1}}}),t.tap=function(e,t){var i=s.createEvent("Event");i.initEvent(t,!0,!0),i.pageX=e.pageX,i.pageY=e.pageY,e.target.dispatchEvent(i)},t.click=function(e){var t,i=e.target;/(SELECT|INPUT|TEXTAREA)/i.test(i.tagName)||(t=s.createEvent("MouseEvents"),t.initMouseEvent("click",!0,!0,e.view,1,i.screenX,i.screenY,i.clientX,i.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),t._constructed=!0,i.dispatchEvent(t))},t}();o.prototype={version:"5.2.0",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(e){e.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(e){if(1!=h.eventType[e.type]){var t;if(t=e.which?e.button:e.button<2?0:4==e.button?1:2,0!==t)return}if(this.enabled&&(!this.initiated||h.eventType[e.type]===this.initiated)){!this.options.preventDefault||h.isBadAndroid||h.preventDefaultException(e.target,this.options.preventDefaultException)||e.preventDefault();var i,n=e.touches?e.touches[0]:e;this.initiated=h.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=h.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,i=this.getComputedPosition(),this._translate(r.round(i.x),r.round(i.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this._execEvent("beforeScrollStart")}},_move:function(e){if(this.enabled&&h.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var t,i,n,a,s=e.touches?e.touches[0]:e,o=s.pageX-this.pointX,l=s.pageY-this.pointY,c=h.getTime();if(this.pointX=s.pageX,this.pointY=s.pageY,this.distX+=o,this.distY+=l,n=r.abs(this.distX),a=r.abs(this.distY),!(c-this.endTime>300&&n<10&&a<10)){if(this.directionLocked||this.options.freeScroll||(n>a+this.options.directionLockThreshold?this.directionLocked="h":a>=n+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)e.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)e.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);o=0}o=this.hasHorizontalScroll?o:0,l=this.hasVerticalScroll?l:0,t=this.x+o,i=this.y+l,(t>0||t<this.maxScrollX)&&(t=this.options.bounce?this.x+o/3:t>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+l/3:i>0?0:this.maxScrollY),this.directionX=o>0?-1:o<0?1:0,this.directionY=l>0?-1:l<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(t,i),c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},_end:function(e){if(this.enabled&&h.eventType[e.type]===this.initiated){this.options.preventDefault&&!h.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();var t,i,n=(e.changedTouches?e.changedTouches[0]:e,h.getTime()-this.startTime),a=r.round(this.x),s=r.round(this.y),o=r.abs(a-this.startX),l=r.abs(s-this.startY),c=0,u="";if(this.isInTransition=0,this.initiated=0,this.endTime=h.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(a,s),!this.moved)return this.options.tap&&h.tap(e,this.options.tap),this.options.click&&h.click(e),void this._execEvent("scrollCancel");if(this._events.flick&&n<200&&o<100&&l<100)return void this._execEvent("flick");if(this.options.momentum&&n<300&&(t=this.hasHorizontalScroll?h.momentum(this.x,this.startX,n,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:a,duration:0},i=this.hasVerticalScroll?h.momentum(this.y,this.startY,n,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:s,duration:0},a=t.destination,s=i.destination,c=r.max(t.duration,i.duration),this.isInTransition=1),this.options.snap){var d=this._nearestSnap(a,s);this.currentPage=d,c=this.options.snapSpeed||r.max(r.max(r.min(r.abs(a-d.x),1e3),r.min(r.abs(s-d.y),1e3)),300),a=d.x,s=d.y,this.directionX=0,this.directionY=0,u=this.options.bounceEasing}return a!=this.x||s!=this.y?((a>0||a<this.maxScrollX||s>0||s<this.maxScrollY)&&(u=h.ease.quadratic),void this.scrollTo(a,s,c,u)):void this._execEvent("scrollEnd")}}},_resize:function(){var e=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){e.refresh()},this.options.resizePolling)},resetPosition:function(e){var t=this.x,i=this.y;return e=e||0,!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),(t!=this.x||i!=this.y)&&(this.scrollTo(t,i,e,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=h.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(this._events[e]){var i=this._events[e].indexOf(t);i>-1&&this._events[e].splice(i,1)}},_execEvent:function(e){if(this._events[e]){var t=0,i=this._events[e].length;if(i)for(;t<i;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}},scrollBy:function(e,t,i,n){e=this.x+e,t=this.y+t,i=i||0,this.scrollTo(e,t,i,n)},scrollTo:function(e,t,i,n){n=n||h.ease.circular,this.isInTransition=this.options.useTransition&&i>0;var a=this.options.useTransition&&n.style;!i||a?(a&&(this._transitionTimingFunction(n.style),this._transitionTime(i)),this._translate(e,t)):this._animate(e,t,i,n.fn)},scrollToElement:function(e,t,i,n,a){if(e=e.nodeType?e:this.scroller.querySelector(e)){var s=h.offset(e);s.left-=this.wrapperOffset.left,s.top-=this.wrapperOffset.top,i===!0&&(i=r.round(e.offsetWidth/2-this.wrapper.offsetWidth/2)),n===!0&&(n=r.round(e.offsetHeight/2-this.wrapper.offsetHeight/2)),s.left-=i||0,s.top-=n||0,s.left=s.left>0?0:s.left<this.maxScrollX?this.maxScrollX:s.left,s.top=s.top>0?0:s.top<this.maxScrollY?this.maxScrollY:s.top,t=void 0===t||null===t||"auto"===t?r.max(r.abs(this.x-s.left),r.abs(this.y-s.top)):t,this.scrollTo(s.left,s.top,t,a)}},_transitionTime:function(e){e=e||0;var t=h.style.transitionDuration;if(this.scrollerStyle[t]=e+"ms",!e&&h.isBadAndroid){this.scrollerStyle[t]="0.0001ms";var i=this;u(function(){"0.0001ms"===i.scrollerStyle[t]&&(i.scrollerStyle[t]="0s")})}if(this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].transitionTime(e)},_transitionTimingFunction:function(e){if(this.scrollerStyle[h.style.transitionTimingFunction]=e,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(e)},_translate:function(e,t){if(this.options.useTransform?this.scrollerStyle[h.style.transform]="translate("+e+"px,"+t+"px)"+this.translateZ:(e=r.round(e),t=r.round(t),this.scrollerStyle.left=e+"px",this.scrollerStyle.top=t+"px"),this.x=e,this.y=t,this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].updatePosition()},_initEvents:function(e){var t=e?h.removeEvent:h.addEvent,i=this.options.bindToWrapper?this.wrapper:a;t(a,"orientationchange",this),t(a,"resize",this),this.options.click&&t(this.wrapper,"click",this,!0),this.options.disableMouse||(t(this.wrapper,"mousedown",this),t(i,"mousemove",this),t(i,"mousecancel",this),t(i,"mouseup",this)),h.hasPointer&&!this.options.disablePointer&&(t(this.wrapper,h.prefixPointerEvent("pointerdown"),this),t(i,h.prefixPointerEvent("pointermove"),this),t(i,h.prefixPointerEvent("pointercancel"),this),t(i,h.prefixPointerEvent("pointerup"),this)),h.hasTouch&&!this.options.disableTouch&&(t(this.wrapper,"touchstart",this),t(i,"touchmove",this),t(i,"touchcancel",this),t(i,"touchend",this)),t(this.scroller,"transitionend",this),t(this.scroller,"webkitTransitionEnd",this),t(this.scroller,"oTransitionEnd",this),t(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,t,i=a.getComputedStyle(this.scroller,null);return this.options.useTransform?(i=i[h.style.transform].split(")")[0].split(", "),e=+(i[12]||i[4]),t=+(i[13]||i[5])):(e=+i.left.replace(/[^-\d.]/g,""),t=+i.top.replace(/[^-\d.]/g,"")),{x:e,y:t}},_initIndicators:function(){function e(e){if(s.indicators)for(var t=s.indicators.length;t--;)e.call(s.indicators[t])}var t,i=this.options.interactiveScrollbars,n="string"!=typeof this.options.scrollbars,a=[],s=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(t={el:l("v",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(t.el),a.push(t)),this.options.scrollX&&(t={el:l("h",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(t.el),a.push(t))),this.options.indicators&&(a=a.concat(this.options.indicators));for(var r=a.length;r--;)this.indicators.push(new c(this,a[r]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){e(function(){this.fade()})}),this.on("scrollCancel",function(){e(function(){this.fade()})}),this.on("scrollStart",function(){e(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){e(function(){this.fade(1,!0)})})),this.on("refresh",function(){e(function(){this.refresh()})}),this.on("destroy",function(){e(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){h.addEvent(this.wrapper,"wheel",this),h.addEvent(this.wrapper,"mousewheel",this),h.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,h.removeEvent(this.wrapper,"wheel",this),h.removeEvent(this.wrapper,"mousewheel",this),h.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(e){if(this.enabled){e.preventDefault();var t,i,n,a,s=this;if(void 0===this.wheelTimeout&&s._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){s.options.snap||s._execEvent("scrollEnd"),s.wheelTimeout=void 0},400),"deltaX"in e)1===e.deltaMode?(t=-e.deltaX*this.options.mouseWheelSpeed,i=-e.deltaY*this.options.mouseWheelSpeed):(t=-e.deltaX,i=-e.deltaY);else if("wheelDeltaX"in e)t=e.wheelDeltaX/120*this.options.mouseWheelSpeed,i=e.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in e)t=i=e.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in e))return;t=i=-e.detail/3*this.options.mouseWheelSpeed}if(t*=this.options.invertWheelDirection,i*=this.options.invertWheelDirection,this.hasVerticalScroll||(t=i,i=0),this.options.snap)return n=this.currentPage.pageX,a=this.currentPage.pageY,t>0?n--:t<0&&n++,i>0?a--:i<0&&a++,void this.goToPage(n,a);n=this.x+r.round(this.hasHorizontalScroll?t:0),a=this.y+r.round(this.hasVerticalScroll?i:0),this.directionX=t>0?-1:t<0?1:0,this.directionY=i>0?-1:i<0?1:0,n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),a>0?a=0:a<this.maxScrollY&&(a=this.maxScrollY),this.scrollTo(n,a,0),this.options.probeType>1&&this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var e,t,i,n,a,s,o=0,l=0,c=0,u=this.options.snapStepX||this.wrapperWidth,h=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(i=r.round(u/2),n=r.round(h/2);c>-this.scrollerWidth;){for(this.pages[o]=[],e=0,a=0;a>-this.scrollerHeight;)this.pages[o][e]={x:r.max(c,this.maxScrollX),y:r.max(a,this.maxScrollY),width:u,height:h,cx:c-i,cy:a-n},a-=h,e++;c-=u,o++}else for(s=this.options.snap,e=s.length,t=-1;o<e;o++)(0===o||s[o].offsetLeft<=s[o-1].offsetLeft)&&(l=0,t++),this.pages[l]||(this.pages[l]=[]),c=r.max(-s[o].offsetLeft,this.maxScrollX),a=r.max(-s[o].offsetTop,this.maxScrollY),i=c-r.round(s[o].offsetWidth/2),n=a-r.round(s[o].offsetHeight/2),this.pages[l][t]={x:c,y:a,width:s[o].offsetWidth,height:s[o].offsetHeight,cx:i,cy:n},c>this.maxScrollX&&l++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=r.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=r.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var e=this.options.snapSpeed||r.max(r.max(r.min(r.abs(this.x-this.startX),1e3),r.min(r.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,e)})},_nearestSnap:function(e,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var i=0,n=this.pages.length,a=0;if(r.abs(e-this.absStartX)<this.snapThresholdX&&r.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;for(e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),t>0?t=0:t<this.maxScrollY&&(t=this.maxScrollY);i<n;i++)if(e>=this.pages[i][0].cx){e=this.pages[i][0].x;break}for(n=this.pages[i].length;a<n;a++)if(t>=this.pages[0][a].cy){t=this.pages[0][a].y;break}return i==this.currentPage.pageX&&(i+=this.directionX,i<0?i=0:i>=this.pages.length&&(i=this.pages.length-1),e=this.pages[i][0].x),a==this.currentPage.pageY&&(a+=this.directionY,a<0?a=0:a>=this.pages[0].length&&(a=this.pages[0].length-1),t=this.pages[0][a].y),{x:e,y:t,pageX:i,pageY:a}},goToPage:function(e,t,i,n){n=n||this.options.bounceEasing,e>=this.pages.length?e=this.pages.length-1:e<0&&(e=0),t>=this.pages[e].length?t=this.pages[e].length-1:t<0&&(t=0);var a=this.pages[e][t].x,s=this.pages[e][t].y;i=void 0===i?this.options.snapSpeed||r.max(r.max(r.min(r.abs(a-this.x),1e3),r.min(r.abs(s-this.y),1e3)),300):i,this.currentPage={x:a,y:s,pageX:e,pageY:t},this.scrollTo(a,s,i,n)},next:function(e,t){var i=this.currentPage.pageX,n=this.currentPage.pageY;i++,i>=this.pages.length&&this.hasVerticalScroll&&(i=0,n++),this.goToPage(i,n,e,t)},prev:function(e,t){var i=this.currentPage.pageX,n=this.currentPage.pageY;i--,i<0&&this.hasVerticalScroll&&(i=0,n--),this.goToPage(i,n,e,t)},_initKeys:function(e){var t,i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(t in this.options.keyBindings)"string"==typeof this.options.keyBindings[t]&&(this.options.keyBindings[t]=this.options.keyBindings[t].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(t in i)this.options.keyBindings[t]=this.options.keyBindings[t]||i[t];h.addEvent(a,"keydown",this),this.on("destroy",function(){h.removeEvent(a,"keydown",this)})},_key:function(e){if(this.enabled){var t,i=this.options.snap,n=i?this.currentPage.pageX:this.x,a=i?this.currentPage.pageY:this.y,s=h.getTime(),o=this.keyTime||0,l=.25;switch(this.options.useTransition&&this.isInTransition&&(t=this.getComputedPosition(),this._translate(r.round(t.x),r.round(t.y)),this.isInTransition=!1),this.keyAcceleration=s-o<200?r.min(this.keyAcceleration+l,50):0,e.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?n+=i?1:this.wrapperWidth:a+=i?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?n-=i?1:this.wrapperWidth:a-=i?1:this.wrapperHeight;break;case this.options.keyBindings.end:n=i?this.pages.length-1:this.maxScrollX,a=i?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:n=0,a=0;break;case this.options.keyBindings.left:n+=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:a+=i?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:n-=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:a-=i?1:5+this.keyAcceleration>>0;break;default:return}if(i)return void this.goToPage(n,a);n>0?(n=0,this.keyAcceleration=0):n<this.maxScrollX&&(n=this.maxScrollX,this.keyAcceleration=0),a>0?(a=0,this.keyAcceleration=0):a<this.maxScrollY&&(a=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(n,a,0),this.keyTime=s}},_animate:function(e,t,i,n){function a(){var d,f,p,m=h.getTime();return m>=c?(s.isAnimating=!1,s._translate(e,t),void(s.resetPosition(s.options.bounceTime)||s._execEvent("scrollEnd"))):(m=(m-l)/i,p=n(m),d=(e-r)*p+r,f=(t-o)*p+o,s._translate(d,f),s.isAnimating&&u(a),void(3==s.options.probeType&&s._execEvent("scroll")))}var s=this,r=this.x,o=this.y,l=h.getTime(),c=l+i;this.isAnimating=!0,a()},handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(e);break;case"keydown":this._key(e);break;case"click":this.enabled&&!e._constructed&&(e.preventDefault(),e.stopPropagation())}}},c.prototype={handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(h.removeEvent(this.indicator,"touchstart",this),h.removeEvent(this.indicator,h.prefixPointerEvent("pointerdown"),this),h.removeEvent(this.indicator,"mousedown",this),h.removeEvent(a,"touchmove",this),h.removeEvent(a,h.prefixPointerEvent("pointermove"),this),h.removeEvent(a,"mousemove",this),h.removeEvent(a,"touchend",this),h.removeEvent(a,h.prefixPointerEvent("pointerup"),this),h.removeEvent(a,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var t=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=t.pageX,this.lastPointY=t.pageY,this.startTime=h.getTime(),this.options.disableTouch||h.addEvent(a,"touchmove",this),this.options.disablePointer||h.addEvent(a,h.prefixPointerEvent("pointermove"),this),this.options.disableMouse||h.addEvent(a,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(e){var t,i,n,a,s=e.touches?e.touches[0]:e,r=h.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,t=s.pageX-this.lastPointX,this.lastPointX=s.pageX,i=s.pageY-this.lastPointY,this.lastPointY=s.pageY,n=this.x+t,a=this.y+i,this._pos(n,a),1==this.scroller.options.probeType&&r-this.startTime>300?(this.startTime=r,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll"),e.preventDefault(),e.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),h.removeEvent(a,"touchmove",this),h.removeEvent(a,h.prefixPointerEvent("pointermove"),this),h.removeEvent(a,"mousemove",this),this.scroller.options.snap){var t=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),i=this.options.snapSpeed||r.max(r.max(r.min(r.abs(this.scroller.x-t.x),1e3),r.min(r.abs(this.scroller.y-t.y),1e3)),300);this.scroller.x==t.x&&this.scroller.y==t.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=t,this.scroller.scrollTo(t.x,t.y,i,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(e){e=e||0;var t=h.style.transitionDuration;if(this.indicatorStyle[t]=e+"ms",!e&&h.isBadAndroid){this.indicatorStyle[t]="0.0001ms";var i=this;u(function(){"0.0001ms"===i.indicatorStyle[t]&&(i.indicatorStyle[t]="0s")})}},transitionTimingFunction:function(e){this.indicatorStyle[h.style.transitionTimingFunction]=e},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(h.addClass(this.wrapper,"iScrollBothScrollbars"),h.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(h.removeClass(this.wrapper,"iScrollBothScrollbars"),h.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=r.max(r.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=r.max(r.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var e=this.options.listenX&&r.round(this.sizeRatioX*this.scroller.x)||0,t=this.options.listenY&&r.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(e<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=r.max(this.indicatorWidth+e,8),this.indicatorStyle.width=this.width+"px"),e=this.minBoundaryX):e>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=r.max(this.indicatorWidth-(e-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",e=this.maxPosX+this.indicatorWidth-this.width):e=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),t<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=r.max(this.indicatorHeight+3*t,8),
this.indicatorStyle.height=this.height+"px"),t=this.minBoundaryY):t>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=r.max(this.indicatorHeight-3*(t-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",t=this.maxPosY+this.indicatorHeight-this.height):t=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=e,this.y=t,this.scroller.options.useTransform?this.indicatorStyle[h.style.transform]="translate("+e+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=e+"px",this.indicatorStyle.top=t+"px")},_pos:function(e,t){e<0?e=0:e>this.maxPosX&&(e=this.maxPosX),t<0?t=0:t>this.maxPosY&&(t=this.maxPosY),e=this.options.listenX?r.round(e/this.sizeRatioX):this.scroller.x,t=this.options.listenY?r.round(t/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(e,t)},fade:function(e,t){if(!t||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=e?250:500,n=e?0:300;e=e?"1":"0",this.wrapperStyle[h.style.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout(function(e){this.wrapperStyle.opacity=e,this.visible=+e}.bind(this,e),n)}}},o.utils=h,"undefined"!=typeof e&&e.exports?e.exports=o:(n=function(){return o}.call(t,i,t,e),!(void 0!==n&&(e.exports=n)))}(window,document,Math)}});